<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
  xmlns:fn="http://java.sun.com/jsp/jstl/functions"
  template="./UserDetailTemplate.xhtml">

  <ui:define name="header"  >
    <ui:include rendered="true" src="application_header.xhtml" id="LoginHeader" /> 
  </ui:define>  

  <ui:define name="content">
    <h:head >
      <h:outputScript library="javascript" name="user_detail.js"  />
      <c:set var="states_list" value="#{uss.buildUsStates()}"   rendered="#{userBean.editable == 1}" />    
      <c:set var="country_list" value="#{country.buildCountries()}"   rendered="#{userBean.editable == 1}" />    
      <c:set var="whichUseType" value="#{userBean.userType}" />
      <c:set var="rid" value="#{userBean.roleId}"  />  
      <c:set var="div_display" value="none"  rendered="#{userBean.editable == 1}" />    
      <c:set var="div_display" value="block" rendered="#{userBean.editable == 0}" />    
    </h:head>
    <h:form id="personal_information" class="user_nae" >
      <body onload="changeMenuBackground(2);"  >
        <ui:include src="/menu_options.xhtml" id="user_detail_menu" />  
        <div id="form_NAE" class="contact_information" >

          <c:choose >
            <c:when test="#{rid == 0}" >

              <c:set var="allow" value="public"  />  
              <c:set var="title" value="USER"  />  

            </c:when>
            <c:when test="#{rid gt 0}" >

              <c:set var="allow" value="Community"  />  
              <c:set var="title" value="#{userBean.communityName}"  />  
            </c:when>
          </c:choose>

          <c:choose >
            <c:when test="#{rid == 0}" >
              <c:set var="sub_title" value="EchoMarket 'Participant Information'" />
            </c:when>
            <c:when test="#{rid == 1}" >
              <c:set var="sub_title"  value="EchoMarket 'Creator Detail'" />
            </c:when>
            <c:when test="#{rid == 2}" >
              <c:set var="sub_title"  value="EchoMarket 'Community Member Information'" />
            </c:when>
          </c:choose>


          <div class="top" >
            <div style="margin:10px;margin-top:25px;" >
              <h:outputText value="#{title}: USER DASHBOARD"  />
              <c:choose >
                <c:when test="#{empty participantBean.participant_id}" >
                  <c:set var="save_update"  value="Save " />
                </c:when >
                <c:when test="#{!empty participantBean.participant_id}" >
                  <c:set var="save_update"  value="Update " />
                </c:when >
              </c:choose>
              <h:commandLink  action="#{participantBean.updateNAE()}"  class="right_div" value="#{save_update} #{sub_title}"   rendered="#{userBean.editable == 1}" />
              <h:commandLink  action="#{participantBean.load_ud(userbean.user_id)}"  class="right_div" value="Edit #{sub_title}"   rendered="#{userBean.editable == 0}" />
            </div> 
            <div style="margin:10px;" >
              <h:outputText value="#{sub_title}" />
              <h:commandLink  action="#{contactPreferenceBean.load_ud(userBean.participant_id)}"  class="right_div" value="Continue to 'Default Contact Preferences'" rendered="#{userBean.partID}" >
                <f:param name="action" value="edit" />
                <c:choose>
                  <c:when test="#{!empty itemBean.itemId}" >
                    <f:param name="iid" value="#{itemBean.itemId}" />
                  </c:when>
                </c:choose>
              </h:commandLink>              
              <h:inputHidden id="editable"  value="#{userBean.editable}"  />
              <h:inputHidden id="communityId"  value="#{userBean.communityId}"   />
              <h:inputHidden id="participant_id"  value="#{participantBean.participant_id}"  />
            </div>
            <div class="messagecolor">
              <h:messages showSummary="true" 
                          showDetail="false"
                          errorStyle="list-style-type:none;color: #d20005" 
                          infoStyle="color: indigo"/>
            </div>
          </div> 

          <c:choose> 
            <c:when test="#{userBean.editable == 0}" >
              <div  class="div_p"  >
                <div style="margin:10px;" >
                  <h:outputText value="##" style="color: indigo;" />
                  <h:outputText value=" -- means 'Selection Not Made'"  />
                </div>
              </div>
            </c:when>
          </c:choose>
          <div style="display:block;float:left;height:auto;width:inherit;margin-top:10px;">
            <c:choose >
              <c:when test="#{rid == 2}" >
                <h:inputHidden id="contact_describe_id"  value="-9"  />
                <h:inputHidden id="displayOrganization"  value="-9"  />
                <h:inputHidden id="otherDescribeYourselfText"  value=""  />
                <h:inputHidden id="organizationName"  value=""  />
              </c:when>
              <c:when test="#{rid lt 3}" >
                <div style="margin-left: 5px;float:left;">
                  <div  class="div_p" >
                    <div style="margin:5px;" >
                      <c:choose >
                        <c:when test="#{rid == 0}" >
                          <h:outputText value="Yourself generally, your affiliation" />
                        </c:when>
                        <c:when test="#{rid == 1}" >
                          <h:outputText value="Your Community generally.." />
                        </c:when>
                      </c:choose>
                    </div>
                  </div>
                  <div style="display:block;float:left;height:auto;width:100%;margin-top:5px;">
                    <div style="float:left;margin-left:25px">
                      <c:choose >
                        <c:when test="#{rid == 0}" >
                          <c:set var="display_describe" value="How would you describe yourself?"   rendered="#{userBean.editable == 1}" />
                          <c:set var="display_describe" value="How you describe yourself:"   rendered="#{userBean.editable == 0}" />
                        </c:when>
                        <c:when test="#{rid == 1}" >
                          <c:set var="display_describe" value="How would you describe your Community?"   rendered="#{userBean.editable == 1}" />
                          <c:set var="display_describe" value="How you describe your Community:"   rendered="#{userBean.editable == 0}" />
                        </c:when>
                      </c:choose>
                      <h:outputLabel for="contact_describe_id"  value="#{display_describe}" ><span class="required_fields">*</span>
                        <h:selectOneMenu id="contact_describe_id" value="#{participantBean.contact_describe_id}" rendered="#{userBean.editable == 1}" >
                          <c:choose >
                            <c:when test="#{rid == 1}" >
                              <f:selectItems id="contact_describe_id_value" value="#{contactDescribesBean.buildContactDArray('community')}"  
                                             var="c" itemValue="#{c.contact_describe_id}" itemLabel="#{c.borrowerOrLenderText}"  />  
                            </c:when>
                            <c:when test="#{rid == 0}" >
                              <c:choose>
                                <c:when test="#{whichUseType == 'borrow' }" >
                                  <f:selectItems id="contact_describe_id_value" value="#{contactDescribesBean.buildContactDArray('borrow')}"  
                                                 var="c" itemValue="#{c.contact_describe_id}" itemLabel="#{c.borrowerOrLenderText}"  /> 
                                </c:when>
                                <c:when test="#{whichUseType == 'lend' or whichUseType == 'both'}" >
                                  <f:selectItems id="contact_describe_id_value" value="#{contactDescribesBean.buildContactDArray('lend')}"  
                                                 var="c" itemValue="#{c.contact_describe_id}" itemLabel="#{c.borrowerOrLenderText}"  /> 
                                </c:when>
                              </c:choose>
                            </c:when>
                          </c:choose>
                        </h:selectOneMenu>
                        <h:outputText value="#{contactDescribesBean.getOneCD(participantBean.contact_describe_id)}" rendered="#{userBean.editable == 0}" class="RO_text"  />
                      </h:outputLabel>
                      <span class="error-message" id="contact_describe_id" ></span>
                    </div>
                    <div id="otherDescribeYourselfText"  style="margin-top:10px;margin-left:5px;display: none;float:left;">    
                      <c:set var="display_other" value="Please provide an 'Other' description:"   rendered="#{userBean.editable == 1}" />
                      <c:set var="display_other" value="Your 'Other' Description:"   rendered="#{userBean.editable == 0}" />
                      <h:outputLabel  value="#{display_other}" for="otherDescribeYourself"  style="margin-left:25px">
                        <h:inputText id="otherDescribeYourself" value="#{participantBean.otherDescribeYourself}" style="margin-left:25px" maxlength="24" size="24"  rendered="#{userBean.editable == 1}" /> 
                        <h:outputText value="#{participantBean.otherDescribeYourself}" rendered="#{userBean.editable == 0}" class="RO_text" />
                      </h:outputLabel>
                      <h:message styleClass="error-message" for="otherDescribeYourself"/>
                      <span class="error-message" id="otherDescribeYourself" ></span>
                    </div>
                  </div>
                  <div style="display:block;float:left;height:auto;width:inherit;margin-top:10px;margin-right:50px;">
                    <div style="float:left;margin-left:25px">
                      <h:outputLabel value="#{bundle.OrganizationName}"  for="organizationName" rendered="#{(userBean.editable == 1) or ( (userBean.editable == 0) and (!empty participantBean.organizationName) )  }" >
                        <h:inputText  id="organizationName" value="#{participantBean.organizationName}"  rendered="#{userBean.editable == 1}" />
                        <h:outputText value="#{participantBean.organizationName}" rendered="#{userBean.editable == 0}" class="RO_text" />
                      </h:outputLabel>
                      <span class="error-message" id="organizationName" ></span>
                    </div>

                    <c:choose >
                      <c:when test="#{rid == 0}" >
                        <div id="yesNoOrganization" style="margin-left:5px;display: block;float:left;">  
                          <h:outputLabel value="Allow #{allow} to see your Organization Name?:"  for="displayOrganization" rendered="#{(userBean.editable == 1) or ( (userBean.editable == 0) and (!empty participantBean.organizationName) )  }">
                            <h:selectOneRadio id="displayOrganization" value="#{participantBean.displayOrganization}" layout='lineDirection'  rendered="#{userBean.editable == 1}" >
                              <f:selectItem itemValue="1" itemLabel="Yes" />
                              <f:selectItem itemValue="0" itemLabel="No" />
                            </h:selectOneRadio>    
                            <c:if test="#{(userBean.editable == 0) and (!empty participantBean.organizationName)}" >
                              <c:choose>
                                <c:when test="#{participantBean.displayOrganization == 0}">
                                  <c:set var="yn" value="No"/>
                                </c:when>
                                <c:when test="#{participantBean.displayOrganization == 1}">
                                  <c:set var="yn" value="Yes"/>
                                </c:when>
                                <c:otherwise>
                                  <c:set var="yn" value="##"/>
                                </c:otherwise>
                              </c:choose>
                              <h:outputText id="displayOrganizationString"   value="#{yn}" class="RO_text" />
                            </c:if>      
                          </h:outputLabel>     
                        </div>
                      </c:when>
                      <c:when test="#{rid gt 0}" >
                        <h:inputHidden id="displayOrganization" value="-9"/>
                      </c:when>
                    </c:choose>

                  </div>
                </div>
              </c:when>
            </c:choose>

            <div style="margin-left: 5px;float:left;">
              <div  class="div_p"  >
                <div style="margin:5px;" >
                  <h:outputText value="Your Name..." />
                </div>
              </div>

              <div style="display:block;float:left;height:auto;width:inherit;margin-top:10px;">

                <div style="margin-left: 25px;float:left">
                  <h:outputLabel value="First Name:" for="firstName" ><span id="firstName" class="required_fields">*</span>
                    <h:inputText  id="firstName" value="#{participantBean.firstName}"  maxlength="24" size="24"  rendered="#{(userBean.editable == 1) and (empty participantBean.firstName)}"   />
                    <h:inputText  id="firstNamea" value="#{participantBean.firstName}"  maxlength="24" size="24"  rendered="#{(userBean.editable == 1) and (!empty participantBean.firstName)}"   />
                    <h:outputText  value="#{participantBean.firstName}"  rendered="#{userBean.editable == 0}" class="RO_text" />
                  </h:outputLabel>
                  <span class="error-message" id="firstName" ></span>
                </div>
                <div style="margin-left: 25px;float:left">
                  <h:outputLabel value="Middle Initial:"  for="mi" >
                    <h:inputText  id="mi" value="#{participantBean.mi}" maxlength="1" size="1" rendered="#{userBean.editable == 1}" />
                    <h:outputText  value="#{participantBean.mi}"  rendered="#{userBean.editable == 0}" class="RO_text" />
                  </h:outputLabel>
                </div>
                <div style="margin-left: 25px;float:left">
                  <h:outputLabel value="Last Name:"  for="lastName" ><span id="lastName" class="required_fields">*</span>
                    <h:inputText  id="lastName" value="#{participantBean.lastName}" maxlength="24" size="24" rendered="#{userBean.editable == 1}" />
                    <h:outputText  value="#{participantBean.lastName}"  rendered="#{userBean.editable == 0}" class="RO_text" />
                  </h:outputLabel>
                  <span class="error-message" id="lastName" ></span>
                </div>

                <div style="margin-left: 25px;float:left">

                  <h:outputLabel value="Allow #{allow} to see your Name?"  for="displayName"  title="Your privacy is important to EchoMarket." >
                    <h:selectOneRadio id="displayName" value="#{participantBean.displayName}" layout="lineDirection"  rendered="#{userBean.editable == 1}">
                      <f:selectItem itemValue="1" itemLabel="Yes" />
                      <f:selectItem itemValue="0" itemLabel="No" />

                    </h:selectOneRadio>    
                    <c:if test="#{userBean.editable == 0}" >
                      <c:choose>
                        <c:when test="#{participantBean.displayName == 0}">
                          <c:set var="yn" value="No"/>
                        </c:when>
                        <c:when test="#{participantBean.displayName == 1}">
                          <c:set var="yn" value="Yes"/>
                        </c:when>
                        <c:otherwise>
                          <c:set var="yn" value="##"/>
                        </c:otherwise>
                      </c:choose>
                      <h:outputText id="displayNameString"   value="#{yn}" class="RO_text" />
                    </c:if>
                  </h:outputLabel> 
                </div>
              </div>
            </div>
            <div  class="div_p"  >
              <div style="margin:5px;" >
                <h:outputText value="Your Email Address..." />
              </div>
            </div>
            <div style="display:block;float:left;height:auto;width:inherit;margin-top:10px;">
              <div style="margin-left: 25px;float:left">
                <h:outputLabel value="Your registration email:" for="registration_email" >
                  <h:outputText  id="registration_email" value="#{userBean.getEmail()}" style="margin-left: 5px;" />
                </h:outputLabel>
              </div>
              <div style="margin-left: 25px;float:left" >
                <c:set var="emailAlt_empty"  value="${empty participantBean.emailAlternative}" />              
                <h:outputLabel value="Would you like to provide an alternative email address?"  for="questionAltEmailProvide" rendered="#{userBean.editable == 1 and emailAlt_empty}" >
                  <h:selectOneRadio id="questionAltEmailProvide" layout='lineDirection'  value="#{participantBean.questionAltEmailProvide}"   rendered="#{userBean.editable == 1}" >
                    <f:selectItem itemValue="1" itemLabel="Yes" />
                    <f:selectItem itemValue="0" itemLabel="No" />
                  </h:selectOneRadio>
                </h:outputLabel>
              </div>
              <c:if test="#{!emailAlt_empty}" >
                <c:set var="e_display" value="block" />
              </c:if>  
              <c:if test="#{emailAlt_empty}" >
                <c:set var="e_display" value="none" />
              </c:if>  


              <div id="emailAlternative" style="margin-left: 25px;margin-bottom:5px;float:left;display:#{e_display};" >
                <h:outputLabel value="Your alternative email address:"  for="emailAlternative" >
                  <h:inputText  id="emailAlternative" value="#{participantBean.emailAlternative}" maxlength="50" size="25" style="margin-left: 5px;" rendered="#{userBean.editable == 1}" />
                  <h:outputText  id="emailAlternativeRO" value="#{participantBean.emailAlternative}"   rendered="#{userBean.editable == 0}" class="RO_text" />
                  <span class="error-message" id="emailAlternative" ></span>
                </h:outputLabel>
                <br />
                <h:outputLabel value="Would you like to delete your Alternative Email?"  for="questionAltEmailDelete" rendered="#{userBean.editable == 1}" style="margin-top:10px;">
                  <h:selectOneRadio id="questionAltEmailDelete" value="#{participantBean.questionAltEmailDelete}"  rendered="#{userBean.editable == 1}" >
                    <f:selectItem itemValue="1" itemLabel="Yes" />
                    <f:selectItem itemValue="0" itemLabel="No" />
                  </h:selectOneRadio>    
                </h:outputLabel>  
              </div>
            </div>     

            <div  class="div_p"  >
              <div style="margin:5px;" >
                <h:outputText value="Your Primary Address..." />
              </div>
            </div>

            <div style="display:block;float:left;height:auto;width:inherit;margin-top:10px;">
              <div style="margin-left: 15px;float:left">
                <h:dataTable value="#{participantBean.primary}" id="primary"   var="pa" >    
                  <h:column rowHeader="">

                    <table >
                      <tr>
                        <td>
                          <h:outputLabel for="addressLine1" value="#{bundle.AddressLine1}"/><span id="addressLine1" class="required_fields">*</span>
                          <h:inputText id="addressLine1" value="#{pa.addressLine1}" style="margin-left: 5px;" 
                                       title="You don't need to provide your numeric address." class="primary" rendered="#{userBean.editable == 1}" required="true" requiredMessage="Address Line One is required" />
                          <h:outputText value="#{pa.addressLine1}" rendered="#{userBean.editable == 0}"  class="RO_text" />
                          <span class="error-message" id="addressLine1" ></span>
                        </td>
                        <td>
                          <h:outputLabel for="addressLine2" value="#{bundle.AddressLine2}" />
                          <h:inputText id="addressLine2" value="#{pa.addressLine2}" style="margin-left: 5px;" rendered="#{userBean.editable == 1}"  />
                          <h:outputText value="#{pa.addressLine2}" rendered="#{userBean.editable == 0}" class="RO_text" />
                        </td>
                      </tr> 
                      <tr>
                        <td>
                          <h:outputLabel for="city" value="#{bundle.City}"/><span id="city" class="required_fields">*</span>
                          <h:inputText id="city" value="#{pa.city}"
                                       style="margin-left: 5px;" class="primary" rendered="#{userBean.editable == 1}" required="true" requiredMessage="City is required" >
                          </h:inputText>
                          <h:outputText value="#{pa.city}" rendered="#{userBean.editable == 0}" class="RO_text" />
                          <span class="error-message" id="city" ></span>
                        </td>
                        <td>
                          <h:outputLabel for="usStateId" value="#{bundle.UsStates}"/>

                          <h:selectOneMenu id="usStateId" value="#{pa.usStateId}" style="margin-left: 5px;" rendered="#{userBean.editable == 1}" >
                            <f:validator validatorId="selectOneMenuValidator" />  
                            <f:selectItems id="us_state_id_select" value="#{states_list}"  var="c" itemValue="#{c.id}" itemLabel="#{c.stateName}" >   
                            </f:selectItems>    
                          </h:selectOneMenu>
                          <h:outputText value="#{uss.getOneState(pa.usStateId)}" rendered="#{userBean.editable == 0}" class="RO_text" />
                          <h:message styleClass="error-message" for="usStateId"/>
                          <span class="error-message" id="us_state_id" ></span>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <h:outputLabel for="province" value="#{bundle.Province}"  />
                          <h:inputText id="province" value="#{pa.province}" style="margin-left: 5px;" rendered="#{userBean.editable == 1}" />
                          <h:outputText value="#{pa.province}" style="margin-left: 5px;" rendered="#{userBean.editable == 0}" class="RO_text" />

                        </td>
                        <td>
                          <h:outputLabel for="region" value="#{bundle.Region}" />
                          <h:inputText id="region" value="#{pa.region}" style="margin-left: 5px;" rendered="#{userBean.editable == 1}" />
                          <h:outputText value="#{pa.region}" style="margin-left: 5px;" rendered="#{userBean.editable == 0}" class="RO_text" />

                        </td>
                      </tr>
                      <tr >
                        <td >
                          <h:outputLabel for="postalCode" value="#{bundle.PostalCode}"/><span id="postalCode" class="required_fields">*</span>
                          <h:inputText id="postalCode" value="#{pa.postalCode}" style="margin-left: 5px;" class="primary" rendered="#{userBean.editable == 1}" required="true" requiredMessage="Postal Code is required" />
                          <h:outputText value="#{pa.postalCode}" style="margin-left: 5px;" class="RO_text"  rendered="#{userBean.editable == 0}" />
                          <span class="error-message" id="postalCode" ></span>
                        </td>
                        <td >
                          <h:outputLabel for="countryId" value="#{bundle.Country}"/><span class="required_fields">*</span>
                          <h:selectOneMenu id="countryId" value="#{pa.countryId}" style="margin-left: 5px;" class="primary" rendered="#{userBean.editable == 1}" >
                            <f:validator validatorId="selectOneMenuValidator" />  
                            <f:selectItems id="country_id" value="#{country_list}"  
                                           var="c" itemValue="#{c.countryId}" itemLabel="#{c.countryName}"                              >   
                            </f:selectItems>    
                          </h:selectOneMenu>

                          <h:outputText value="#{country.getOneCountry(pa.countryId)}" style="margin-left: 5px;" rendered="#{userBean.editable == 0}" class="RO_text" />
                          <span class="error-message" id="countryId" ></span>
                        </td>
                      </tr>

                      <tr >
                        <td colspan="2">
                          <h:outputLabel value="Allow #{allow} to see your Primary Address?"  for="displayAddress" title="Your privacy is important to EchoMaket.  However in searching for available items, EchoMarket needs your address.">
                            <h:selectOneRadio id="displayAddress" value="#{participantBean.displayAddress}" layout='lineDirection' rendered="#{userBean.editable == 1}">
                              <f:selectItem itemValue="1" itemLabel="Yes" />
                              <f:selectItem itemValue="0" itemLabel="No" />

                            </h:selectOneRadio>    
                            <c:if test="#{userBean.editable == 0}" >
                              <c:choose>
                                <c:when test="#{participantBean.displayAddress == 0}">
                                  <c:set var="yn" value="No"/>
                                </c:when>
                                <c:when test="#{participantBean.displayAddress == 1}">
                                  <c:set var="yn" value="Yes"/>
                                </c:when>
                                <c:otherwise>
                                  <c:set var="yn" value="##"/>
                                </c:otherwise>
                              </c:choose>
                              <h:outputText id="displayAddressString"   value="#{yn}" class="RO_text" />
                            </c:if>
                          </h:outputLabel>     
                        </td>
                      </tr>
                    </table>
                  </h:column>
                </h:dataTable>
              </div>
            </div>    


            <c:set var="alternative_address_data" value="#{participantBean.alternative}" />   
            <c:forEach items="${alternative_address_data}" var="aid"  >
              <c:set var="alternative_address_data_empty"  value="${!empty aid.postalCode}" />
            </c:forEach>

            <div style="margin-left: 25px;float:left">
              <h:outputLabel value="Would you like to provide an alternative address?"  for="questionAltAddressProvide"  rendered="#{(userBean.editable == 1) }" >
                <h:selectOneRadio id="questionAltAddressProvide" layout='lineDirection' value="#{participantBean.questionAltAddressProvide}"  rendered="#{(userBean.editable == 1) }" >
                  <f:selectItem itemValue="1" itemLabel="Yes" />
                  <f:selectItem itemValue="0" itemLabel="No" />
                </h:selectOneRadio>
              </h:outputLabel>
            </div>

            <c:if test="#{alternative_address_data_empty}" >
              <c:set var="a_display" value="block" />
            </c:if>  
            <c:if test="#{!alternative_address_data_empty}" >
              <c:set var="a_display" value="none" />
            </c:if>  

            <div id="addressAlternative"  style="display:#{a_display};float:left;height:auto;width:inherit;margin-top:10px;">
              <div style="margin-left: 15px;float:left">
                <h:dataTable value="#{alternative_address_data}" id="alternative" var="pa" >    
                  <h:column rowHeader="">
                    <div  class="div_p"  >
                      <div style="margin:5px;" >
                        <h:outputText value="An Alternative Address...(Optional. Fields with asterisk are required if pursued.)"  rendered="#{(userBean.editable == 1) }" />
                        <h:outputText value="Your Alternative Address..."  rendered="#{userBean.editable == 0}" />
                      </div>
                    </div>
                    <table>
                      <tr>
                        <td>
                          <h:outputLabel for="addressLine1a" value="#{bundle.AddressLine1}"/><span id="addressLine1" class="required_fields">*</span>
                          <h:inputText id="addressLine1a" value="#{pa.addressLine1}" style="margin-left: 5px;" class="primary" rendered="#{userBean.editable == 1}" />
                          <h:outputText value="#{pa.addressLine1}" style="margin-left: 5px;" class="RO_text"  rendered="#{userBean.editable == 0}" />
                          <span class="error-message" id="addressLine1" ></span>
                        </td>
                        <td>
                          <h:outputLabel for="addressLine2a" value="#{bundle.AddressLine2}" />
                          <h:inputText id="addressLine2a" value="#{pa.addressLine2}" style="margin-left: 5px;" rendered="#{userBean.editable == 1}" />
                          <h:outputText value="#{pa.addressLine2}" style="margin-left: 5px;" rendered="#{userBean.editable == 0}" class="RO_text" />

                        </td>
                      </tr> 
                      <tr>
                        <td>
                          <h:outputLabel for="citya" value="#{bundle.City}"/><span id="city" class="required_fields">*</span>
                          <h:inputText id="citya" value="#{pa.city}" style="margin-left: 5px;" class="primary"  rendered="#{userBean.editable == 1}" />
                          <h:outputText value="#{pa.city}" style="margin-left: 5px;" class="RO_text"   rendered="#{userBean.editable == 0}" />

                          <span class="error-message" id="city" ></span>
                        </td>
                        <td>
                          <h:outputLabel for="usStateIda" value="#{bundle.UsStates}"/>
                          <h:selectOneMenu id="usStateIda" value="#{pa.usStateId}" style="margin-left: 5px;" rendered="#{userBean.editable == 1}">
                            <f:validator validatorId="selectOneMenuValidator" />  
                            <f:selectItems id="us_state_id" value="#{states_list}"  var="c" itemValue="#{c.id}" itemLabel="#{c.stateName}" >   
                            </f:selectItems>    
                          </h:selectOneMenu>
                          <h:outputText value="#{uss.getOneState(pa.usStateId)}" class="RO_text"  rendered="#{userBean.editable == 0}" />    
                          <h:message styleClass="error-message" for="usStateId"/>
                          <span class="error-message" id="usStates" ></span>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <h:outputLabel for="provincea" value="#{bundle.Province}"/>
                          <h:inputText id="provincea" value="#{pa.province}" style="margin-left: 5px;" rendered="#{userBean.editable == 1}" />
                          <h:outputText value="#{pa.province}" class="RO_text" rendered="#{userBean.editable == 0}" />

                        </td>
                        <td>
                          <h:outputLabel for="regiona" value="#{bundle.Region}"/>
                          <h:inputText id="regiona" value="#{pa.region}" style="margin-left: 5px;" rendered="#{userBean.editable == 1}" />
                          <h:outputText value="#{pa.region}" class="RO_text"  rendered="#{userBean.editable == 0}" />

                        </td>
                      </tr>
                      <tr >
                        <td >
                          <h:outputLabel for="postalCodea" value="#{bundle.PostalCode}"/><span id="postalCode" class="required_fields">*</span>
                          <h:inputText id="postalCodea" value="#{pa.postalCode}" style="margin-left: 5px;" class="primary" rendered="#{userBean.editable == 1}" />
                          <h:outputText value="#{pa.postalCode}" class="RO_text"   rendered="#{userBean.editable == 0}" />
                          <span class="error-message" id="postalCode" ></span>
                        </td>
                        <td >
                          <h:outputLabel for="countryIda" value="#{bundle.Country}"/><span class="required_fields">*</span>
                          <h:selectOneMenu id="countryIda" value="#{pa.countryId}" style="margin-left: 5px;" class="primary" rendered="#{userBean.editable == 1}"  >
                            <f:validator validatorId="selectOneMenuValidator" />  
                            <f:selectItems id="country_id" value="#{country_list}"  var="c" itemValue="#{c.countryId}" itemLabel="#{c.countryName}"                              >   
                            </f:selectItems>    
                          </h:selectOneMenu>
                          <h:outputText value="#{country.getOneCountry(pa.countryId)}" rendered="#{userBean.editable == 0}" class="RO_text" />
                          <span class="error-message" id="countryId" ></span>
                        </td>
                      </tr>

                      <tr >
                        <td colspan="2">

                        </td>
                      </tr>

                      <tr >
                        <td colspan="2">
                          <h:outputLabel value="Allow #{allow} to see your Alternative Address?"  for="displayAlternativeAddress" >
                            <h:selectOneRadio id="displayAlternativeAddress" value="#{participantBean.displayAlternativeAddress}" layout='lineDirection'  rendered="#{userBean.editable == 1}" >
                              <f:selectItem itemValue="1" itemLabel="Yes" />
                              <f:selectItem itemValue="0" itemLabel="No" />

                            </h:selectOneRadio>    
                            <c:if test="#{userBean.editable == 0}" >
                              <c:choose>
                                <c:when test="#{participantBean.displayAlternativeAddress == 0}">
                                  <c:set var="yn" value="No"/>
                                </c:when>
                                <c:when test="#{participantBean.displayAlternativeAddress == 1}">
                                  <c:set var="yn" value="Yes"/>
                                </c:when>
                                <c:otherwise>
                                  <c:set var="yn" value="##"/>
                                </c:otherwise>
                              </c:choose>
                              <h:outputText id="displayAlternativeAddressString"   value="#{yn}" class="RO_text" />
                            </c:if>
                          </h:outputLabel>   

                          <h:outputLabel value="Would you like to delete your Alternative Address?"  for="questionAltAddressDelete" rendered="#{(userBean.editable == 1) and (!empty pa.postalCode)}">
                            <h:selectOneRadio id="questionAltAddressDelete" value="#{participantBean.questionAltAddressDelete}"  rendered="#{userBean.editable == 1}" >
                              <f:selectItem itemValue="1" itemLabel="Yes" />
                              <f:selectItem itemValue="0" itemLabel="No" />
                            </h:selectOneRadio>    
                          </h:outputLabel>   
                        </td>
                      </tr>

                    </table>
                  </h:column>
                </h:dataTable>
              </div>
            </div>    

            <div  class="div_p"  >
              <div style="margin:10px;" >
                <h:outputText value="Your Phone Access..." />
              </div>
            </div>

            <div style="display:block;float:left;height:auto;width:inherit;margin-top:10px;">
              <div style="margin-left: 25px;float:left">
                <table width='99%'>
                  <tr class="odd">
                    <td style="width:33%;">
                      <h:outputLabel  for="homePhone"  value="Home Phone:" >
                        <h:inputText  id="homePhone"  class="homePhone"   value="#{participantBean.homePhone}" style="margin-left:10px" maxlength="20"  size='20' rendered="#{userBean.editable == 1}"/> 
                        <h:outputText    value="#{participantBean.homePhone}" rendered="#{userBean.editable == 0}" class="RO_text"/> 
                      </h:outputLabel>
                      <div style="float:left" >
                        <h:outputLabel value="Allow #{allow} to see your Home Phone Number?"  for="displayHomePhone"  >
                          <h:selectOneRadio id="displayHomePhone" value="#{participantBean.displayHomePhone}" rendered="#{userBean.editable == 1}" >
                            <f:selectItem itemValue="1" itemLabel="Yes" />
                            <f:selectItem itemValue="0" itemLabel="No" />

                          </h:selectOneRadio>   
                          <c:if test="#{userBean.editable == 0}" >
                            <c:choose>
                              <c:when test="#{participantBean.displayHomePhone == 0}">
                                <c:set var="yn" value="No"/>
                              </c:when>
                              <c:when test="#{participantBean.displayHomePhone == 1}">
                                <c:set var="yn" value="Yes"/>
                              </c:when>
                              <c:otherwise>
                                <c:set var="yn" value="##"/>
                              </c:otherwise>
                            </c:choose>
                            <h:outputText id="displayHomePhoneString"   value="#{yn}" class="RO_text" />
                          </c:if>
                        </h:outputLabel>   
                        <span class="error-message" id="homePhone" ></span>    
                      </div>
                    </td>

                    <td style="width:33%;">
                      <h:outputLabel  for="cellPhone"  value="Cell Phone:" >
                        <h:inputText  id="cellPhone"  class="cellPhone" value="#{participantBean.cellPhone}" style="margin-left:10px" maxlength="20"  size='20' rendered="#{userBean.editable == 1}"/> 
                        <h:outputText    value="#{participantBean.cellPhone}" rendered="#{userBean.editable == 0}" class="RO_text"/> 
                      </h:outputLabel>
                      <div style="float:left" >
                        <h:outputLabel value=".. your Cell Phone Number?"  for="displayCellPhone" >
                          <h:selectOneRadio id="displayCellPhone" value="#{participantBean.displayCellPhone}" rendered="#{userBean.editable == 1}" >
                            <f:selectItem itemValue="1" itemLabel="Yes" />
                            <f:selectItem itemValue="0" itemLabel="No" />

                          </h:selectOneRadio>    
                          <c:if test="#{userBean.editable == 0}" >
                            <c:choose>
                              <c:when test="#{participantBean.displayCellPhone == 0}">
                                <c:set var="yn" value="No"/>
                              </c:when>
                              <c:when test="#{participantBean.displayCellPhone == 1}">
                                <c:set var="yn" value="Yes"/>
                              </c:when>
                              <c:otherwise>
                                <c:set var="yn" value="##"/>
                              </c:otherwise>
                            </c:choose>
                            <h:outputText id="displayCellPhoneString"   value="#{yn}"  class="RO_text" />
                          </c:if>
                        </h:outputLabel>
                        <span class="error-message" id="cellPhone" ></span>    
                      </div>
                    </td>
                    <td style="width:33%;">
                      <h:outputLabel  for="alternativePhone"  value="Alternative Phone:" >
                        <h:inputText  id="alternativePhone"  class="alternativePhone" value="#{participantBean.alternativePhone}" style="margin-left:10px" maxlength="20"  size='20' rendered="#{userBean.editable == 1}"/> 
                        <h:outputText    value="#{participantBean.alternativePhone}" rendered="#{userBean.editable == 0}" class="RO_text"/> 
                      </h:outputLabel>
                      <div style="float:left" >
                        <h:outputLabel value="... your Alternative Phone Number?"  for="displayAlternativePhone" >
                          <h:selectOneRadio id="displayAlternativePhone" value="#{participantBean.displayAlternativePhone}" rendered="#{userBean.editable == 1}" >
                            <f:selectItem itemValue="1" itemLabel="Yes" rendered="#{userBean.editable == 1}" />
                            <f:selectItem itemValue="0" itemLabel="No" rendered="#{userBean.editable == 1}" />	
                          </h:selectOneRadio>    
                          <c:if test="#{userBean.editable == 0}" >
                            <c:choose>
                              <c:when test="#{participantBean.displayAlternativePhone == 0}">
                                <c:set var="yn" value="No"/>
                              </c:when>
                              <c:when test="#{participantBean.displayAlternativePhone == 1}">
                                <c:set var="yn" value="Yes"/>
                              </c:when>
                              <c:otherwise>
                                <c:set var="yn" value="##"/>
                              </c:otherwise>
                            </c:choose>
                            <h:outputText id="displayAlternativePhoneString"   value="#{yn}" class="RO_text" />
                          </c:if>
                        </h:outputLabel>   
                        <span class="error-message" id="alternativePhone" ></span>        
                      </div>
                    </td>

                  </tr>
                </table>
              </div>
            </div>

          </div>
        </div>
      </body>
    </h:form>
  </ui:define>

  <ui:define name="footer"  >
    <ui:include rendered="true" src="application_footer.xhtml" id="LoginFooter" /> 
  </ui:define>
</ui:composition>

