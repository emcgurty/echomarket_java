<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                template="./UserDetailROTemplate.xhtml">

  <ui:define name="header"  >
    <ui:include rendered="true" src="application_header.xhtml" id="borrowersHeader" />
  </ui:define>

  <ui:define name="content"  >
    <div  class="div_p" id="menu_item_3" >
      <div style="margin:10px;" >
        <h:outputText value="Item Transfer Preferences from Lender to Borrowers..." />
      </div>
    </div>

    <div  class="div_p"  >
      <div style="margin:10px;" >
        <h:outputText value="How the lender would like a borrower to receive his/her item:" />
      </div>
    </div>

    <div style="margin-left:25px;margin-top:5px;float:left;">
      <c:set value="#{readOnlyBean.getBorrowerComesToPrimaryAddress()}"   var="pa_data" /> 
      <h:dataTable value="#{pa_data}" var="pa" rendered="${fn:length(pa_data) > 0}" >    
        <h:column rowHeader="">
          <div  class="div_p"  >
            <div style="margin:10px;" >
              <h:outputText value="Contact Option: By Primary Adddress.." />
            </div>
          </div>

          <div style="display:block;float:left;height:auto;width:inherit;margin-top:5px;">
            <div style="float:left;margin-left:25px">
              <div id="postalWithContactAddress" >    
                <div style="display:block;float:left;height:auto;width:inherit;margin-top:10px;">
                  <div style="margin-left: 15px;float:left">

                    <table >
                      <tr>
                        <td>
                          <h:outputLabel for="addressLine1" value="#{bundle.AddressLine1}"/>
                          <h:outputText value="#{pa.addressLine1}" class="RO_text" />

                        </td>
                        <td>
                          <h:outputLabel for="addressLine2" value="#{bundle.AddressLine2}" />
                          <h:outputText value="#{pa.addressLine2}" class="RO_text" />
                        </td>
                      </tr> 
                      <tr>
                        <td>
                          <h:outputLabel for="city" value="#{bundle.City}"/>
                          <h:outputText value="#{pa.city}" rendered="#{userBean.editable == 2}" class="RO_text" />

                        </td>
                        <td>
                          <h:outputLabel for="usStateId" value="#{bundle.UsStates}"/>
                          <h:outputText value="#{uss.getOneState(pa.usStateId)}" class="RO_text" />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <h:outputLabel for="province" value="#{bundle.Province}"  />
                          <h:outputText value="#{pa.province}" class="RO_text" />

                        </td>
                        <td>
                          <h:outputLabel for="region" value="#{bundle.Region}" />
                          <h:outputText value="#{pa.region}" class="RO_text" />
                        </td>
                      </tr>
                      <tr >
                        <td >
                          <h:outputLabel for="postalCode" value="#{bundle.PostalCode}"/><span id="postalCode" class="required_fields">*</span>
                          <h:outputText value="#{pa.postalCode}" class="RO_text" />
                        </td>
                        <td >
                          <h:outputLabel for="countryId" value="#{bundle.Country}"/><span class="required_fields">*</span>
                          <h:outputText value="#{country.getOneCountry(pa.countryId)}" class="RO_text" />
                        </td>
                      </tr>
                    </table>


                  </div>
                </div>    

              </div>
            </div>
          </div>
        </h:column>
      </h:dataTable>

    </div>

    <div style="margin-left:25px;margin-top:5px;float:left;">
      <c:set value="#{readOnlyBean.getBorrowerComesToAlternativeAddress()}"   var="aa_data" /> 
      <h:dataTable value="#{aa_data}"  var="pa" rendered="${fn:length(aa_data) > 0}" >    
        <h:column rowHeader="">
          <div  class="div_p"  >
            <div style="margin:10px;" >
              <h:outputText value="Contact Option: By Alternative Adddress.." />
            </div>
          </div>

          <div style="display:block;float:left;height:auto;width:inherit;margin-top:5px;">
            <div style="float:left;margin-left:25px">
              <div id="postalWithContactAddress" >    
                <div style="display:block;float:left;height:auto;width:inherit;margin-top:10px;">
                  <div style="margin-left: 15px;float:left">

                    <table >
                      <tr>
                        <td>
                          <h:outputLabel for="addressLine1" value="#{bundle.AddressLine1}"/>
                          <h:outputText value="#{pa.addressLine1}" class="RO_text" />

                        </td>
                        <td>
                          <h:outputLabel for="addressLine2" value="#{bundle.AddressLine2}" />
                          <h:outputText value="#{pa.addressLine2}" class="RO_text" />
                        </td>
                      </tr> 
                      <tr>
                        <td>
                          <h:outputLabel for="city" value="#{bundle.City}"/>
                          <h:outputText value="#{pa.city}" rendered="#{userBean.editable == 2}" class="RO_text" />

                        </td>
                        <td>
                          <h:outputLabel for="usStateId" value="#{bundle.UsStates}"/>
                          <h:outputText value="#{uss.getOneState(pa.usStateId)}" class="RO_text" />
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <h:outputLabel for="province" value="#{bundle.Province}"  />
                          <h:outputText value="#{pa.province}" class="RO_text" />

                        </td>
                        <td>
                          <h:outputLabel for="region" value="#{bundle.Region}" />
                          <h:outputText value="#{pa.region}" class="RO_text" />
                        </td>
                      </tr>
                      <tr >
                        <td >
                          <h:outputLabel for="postalCode" value="#{bundle.PostalCode}"/><span id="postalCode" class="required_fields">*</span>
                          <h:outputText value="#{pa.postalCode}" class="RO_text" />
                        </td>
                        <td >
                          <h:outputLabel for="countryId" value="#{bundle.Country}"/><span class="required_fields">*</span>
                          <h:outputText value="#{country.getOneCountry(pa.countryId)}" class="RO_text" />
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>    

              </div>
            </div>
          </div>
        </h:column>
      </h:dataTable>

    </div>

    <div id="form_lender_to_borrower" class="contact_information" >
    <c:set var="lt_data"  value="#{readOnlyBean.getLenderTransferData(readOnlyBean.itemId, readOnlyBean.which, readOnlyBean.participant_id)}"  />
      <h:dataTable value="#{lt_data}"   var="lit" >  
        <h:column rowHeader="">
          <div style="margin-left:25px;margin-top:5px;float:left;">                    
            <h:outputText value="Lender will meet with borrower at an agreed location" class="RO_text"  rendered="#{lit.meetBorrowerAtAgreedL2b == 1}" />
          </div>

          <div style="margin-left:25px;margin-top:5px;float:left;">                    
            <h:outputText value="Lender deliver to borrower preferred location." class="RO_text" rendered="#{lit.willDeliverToBorrower == 1}" />
          </div>

          <div style="margin-left:25px;margin-top:5px;float:left;">                    
            <h:outputText value="Lender would like a third-party present during transfer to borrower." class="RO_text" rendered="#{lit.thirdPartyPresenceL2b == 1}" />
          </div>


          <div id="thirdPartyPresenceL2BGroup" style="margin-left:25px;margin-top:5px;float:left">
            <h:outputText value="Lender will choose third-party during transfer." class="RO_text" rendered="#{lit.lenderThirdPartyChoiceL2b == 1}" />
          </div>  

          <div id="agreedThirdPartyChoiceL2bGroup" style="margin-left:25px;margin-top:5px;float:left">     
            <h:outputText value="Third-party choice during transfer by mutal agreement." class="RO_text" rendered="#{lit.agreedThirdPartyChoiceL2b == 1}" />
          </div>

          <div  class="div_p"  >
            <div style="margin:10px;" >
              <h:outputText value="How the lender would like the borrower to return his/her item:" />
            </div>
          </div>


          <div style="margin-left:25px;margin-top:5px;float:left;">
            <div id="borrowerReturnsToWhichAddressGroup" >    
              <h:outputLabel value="Borrower returns to lender's...:" rendered="#{!empty lit.borrowerReturnsToWhichAddress}" >
                <h:outputText    value="Yes" class="RO_text" rendered="#{lit.borrowerReturnsToWhichAddress == 1}" />
                <h:outputText  value="No" class="RO_text" rendered="#{lit.borrowerReturnsToWhichAddress == 0}" />
              </h:outputLabel>
            </div>

            <div style="margin-left:25px;margin-top:5px;float:left;">
              <h:outputText value="Lender wants to meet borrower at an agreed location?" class="RO_text"  rendered="#{lit.meetBorrowerAtAgreedB2l == 1}"/>
            </div>

            <div style="margin-left:25px;margin-top:5px;float:left;">`
              <h:outputLabel value="Lender will pick up at borrower's location?:"  rendered="#{!empty lit.willPickUpPreferredLocationB2l}" >
                <h:outputText    value="No" class="RO_text" rendered="#{lit.willPickUpPreferredLocationB2l == 0}"/>
                <h:outputText    value="Yes" class="RO_text" rendered="#{lit.willPickUpPreferredLocationB2l == 1}"/>
              </h:outputLabel>                        
            </div>
          </div>

          <div style="margin-left:25px;margin-top:5px;float:left;">
            <h:outputLabel value="Lender would like a third-party present during transfer from borrower?:" rendered="#{!empty lit.thirdPartyPresenceB2l}" >
              <h:outputText value="No" class="RO_text" rendered="#{lit.thirdPartyPresenceB2l == 0}" />
              <h:outputText value="Yes" class="RO_text" rendered="#{lit.thirdPartyPresenceB2l == 1}" />
            </h:outputLabel>                        
          </div>

          <div id="thirdPartyPresenceB2lGroup" style="margin-left:25px;margin-top:5px;float:left;">
            <h:outputLabel value="Lender's choice?:" rendered="#{!empty lit.lenderThirdPartyChoiceB2l}">
              <h:outputText value="No" class="RO_text" rendered="#{lit.lenderThirdPartyChoiceB2l == 0}" />
              <h:outputText value="Yes" class="RO_text" rendered="#{lit.lenderThirdPartyChoiceB2l == 1}" />
            </h:outputLabel>

            <h:outputLabel value="Mutually agreed?:" rendered="#{!empty lit.agreedThirdPartyChoiceB2l}">
              <h:outputText   value="No" class="RO_text" rendered="#{lit.agreedThirdPartyChoiceB2l == 0}" />
              <h:outputText   value="Yes" class="RO_text" rendered="#{lit.agreedThirdPartyChoiceB2l == 1}" />
            </h:outputLabel>
          </div>

        </h:column>
      </h:dataTable>
    </div>
  </ui:define>
  <ui:define name="footer"  >
    <ui:include rendered="true" src="application_footer.xhtml" id="borrowersFooter" /> 
  </ui:define>
</ui:composition>


